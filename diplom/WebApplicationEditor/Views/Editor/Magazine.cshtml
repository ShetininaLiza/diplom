@model BisnessLogic.Models.Magazine
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
</head>
<body>
    <header>
        <nav>
            <ul class="topmenu">
                <li>
                    <a asp-area="" asp-controller="Home" asp-action="Main">Научный журнал</a>
                </li>

                <li>
                    <a href="" class="submenu-link">Рецензенты</a>
                    <ul class="submenu">
                        <li><a href="../Editor/Reviewers">Список рецензентов</a></li>
                        <li><a href="../Editor/Register">Регистрация рецензента</a></li>
                    </ul>
                </li>
                <li>
                    <a class="submenu-link">Выпуски журнала</a>
                    <ul class="submenu">
                        <li><a href="../Editor/CreateMagazine">Формировать научный журнал</a></li>
                        <li><a href="../Editor/Magazines">Список выпусков</a></li>
                    </ul>
                </li>

                <li>
                    <a href="../Editor/Publications">Список статей</a>
                </li>
            </ul>
        </nav>
    </header>
    <h1>Выпуск научного журнала № @Model.Id</h1>
    <label style="font-weight:bold">Дата выпуска:</label><br />
    <input type="text" value="@Model.Date.Date"><br />
    <label style="font-weight:bold; text-align:center">Статьи в выпуске:</label>
    <table class="table table-primary">
        <thead>
            <tr>
                <th>Название статии</th>
                <th>Авторы статьи</th>
            </tr>
        </thead>
        <tbody id="users">
            @foreach (var m in Model.Publications)
            {
                <tr>
                    <td>
                        <a href="/Editor/GetPublic?Id=@m.Id">@m.Title</a>
                    </td>
                    <td>@string.Join(',', m.Autors.Select(rec => rec.GetFIOAutor()).ToArray())</td>
                </tr>
            }
        </tbody>
    </table>
</body>
</html>
